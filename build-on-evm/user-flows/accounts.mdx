---
title: "Accounts"
description: "Overview of account structure"
---

## Account Structure

A wallet owner can register an account on Orderly Network for each broker that is supported. Each wallet owner could thus have multiple accounts (that are not interlinked with each other) registered with Orderly Network.

### Account ID

Each account is identified by an account id, which can be calculated by

<Steps>
  <Step title="Converting the wallet address to bytes">
  </Step>
  <Step title="Converting the keccak256 hash of the `brokerId` string to bytes">
  </Step>
  <Step title="Concatenating (1) and (2)">
  </Step>
  <Step title="Converting back to Hex String, the keccak256 hash of the result of (3)">
  ```typescript
export function getAccountId(userAddress, brokerId) {
  const abicoder = AbiCoder.defaultAbiCoder();
  return keccak256(
    abicoder.encode(
      ['address', 'bytes32'],
      [userAddress, solidityPackedKeccak256(['string'], [brokerId])]
    )
  );
}
```
  </Step>
</Steps>


## Account Registration

Follow the following steps to register an account on Orderly Network:

<Steps>
  <Step title="Choose a valid chain/broker to register the account on">
    List of chains can be found [here](/build-on-evm/smart-contract-addresses) and supported brokers through [Get list of brokers API](/build-on-evm/evm-api/restful-api/public/get-list-of-brokers).
  </Step>
  <Step title="Check if the account is already registered">
     Can be checked via [Get Account API](/build-on-evm/evm-api/restful-api/public/get-account).
  </Step>
  <Step title="Obtain a registration nonce">
    Get a nonce from [Get Registration Nonce API](/build-on-evm/evm-api/restful-api/public/get-registration-nonce).
  </Step>
  <Step title="Obtain a signature from EIP-712">
    Sign a message from the wallet in the following format using the EIP-712 standard and obtain the signature.
    ```json
{
    "brokerId": "woofi_dex",
    "chainId": 80001,
    "timestamp": 1685973017064,
    "registrationNonce": "194528949540"
}
```
where:

| **Name**          | **Type**  | **Required** | **Description**                                                                |
| ----------------- | --------- | ------------ | ------------------------------------------------------------------------------ |
| brokerId          | string    | Y            | Broker ID, the valid list can be found \[here\]                                |
| chainId           | int       | Y            | Chain ID of registering chain (within those that are supported by the Network) |
| timestamp         | timestamp | Y            | timestamp in UNIX milliseconds                                                 |
| registrationNonce | string    | Y            | Valid nonce from Get [Registration Nonce](/build-on-evm/evm-api/restful-api/public/get-registration-nonce)   |
  </Step>
  <Step title="Register account">
    Send all the necessary information via [Register account API](/build-on-evm/evm-api/restful-api/public/register-account).
  </Step>
</Steps>

